<!DOCTYPE html> 
<html lang="ja"> 
<head> 
<meta charset="UTF-8"> 
<title>GPS</title> 
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/prototype/1.6/prototype.js"></script> 
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script> 
<script type="text/javascript">
google.maps.event.addDomListener(window, 'load', function(){
	var main = document.getElementById('main');
	if(navigator.geolocation) {
		
		navigator.geolocation.getCurrentPosition(function(pos) {
			//main.innerHTML = pos.coords.latitude + "," + pos.coords.longitude;
			var position = new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude);
			
			//マップのオプション
			var options = {
				zoom: 15,
				center: position,
				mapTypeId: google.maps.MapTypeId.ROADMAP,
				scaleControl: true
			};
			
			var map = new google.maps.Map(document.getElementById("main"), options);	
		});
		
		
	} else {
		main.innerHTML ="??";
	}
});
</script>
</head>
<body>

<div id="main" style="width:800px; height:600px">
</div>


</body>
</html>